"use strict";
(self["webpackChunktaxonium"] = self["webpackChunktaxonium"] || []).push([["vendors-node_modules_jbrowse_plugin-circular-view_esm_CircularView_components_CircularView_js"],{

/***/ "./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/CircularView.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/CircularView.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobxreact.esm.js");
/* harmony import */ var _jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jbrowse/core/ui */ "./node_modules/@jbrowse/core/ui/index.js");
/* harmony import */ var _jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jbrowse/core/util */ "./node_modules/@jbrowse/core/util/index.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/IconButton/IconButton.js");
/* harmony import */ var tss_react_mui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tss-react/mui */ "./node_modules/tss-react/mui.js");
/* harmony import */ var _mui_material_colors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material/colors */ "./node_modules/@mui/material/colors/grey.js");
/* harmony import */ var _mui_icons_material_ZoomOut__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/icons-material/ZoomOut */ "./node_modules/@mui/icons-material/ZoomOut.js");
/* harmony import */ var _mui_icons_material_ZoomIn__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/icons-material/ZoomIn */ "./node_modules/@mui/icons-material/ZoomIn.js");
/* harmony import */ var _mui_icons_material_RotateLeft__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/icons-material/RotateLeft */ "./node_modules/@mui/icons-material/RotateLeft.js");
/* harmony import */ var _mui_icons_material_RotateRight__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/icons-material/RotateRight */ "./node_modules/@mui/icons-material/RotateRight.js");
/* harmony import */ var _mui_icons_material_LockOpen__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/icons-material/LockOpen */ "./node_modules/@mui/icons-material/LockOpen.js");
/* harmony import */ var _mui_icons_material_Lock__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/icons-material/Lock */ "./node_modules/@mui/icons-material/Lock.js");
/* harmony import */ var _jbrowse_core_ui_Icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jbrowse/core/ui/Icons */ "./node_modules/@jbrowse/core/ui/Icons.js");
/* harmony import */ var _jbrowse_core_ui_Icons__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_ui_Icons__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _Ruler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Ruler */ "./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/Ruler.js");
/* harmony import */ var _ImportForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ImportForm */ "./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/ImportForm.js");







// icons







// locals


const dragHandleHeight = 3;
const useStyles = (0,tss_react_mui__WEBPACK_IMPORTED_MODULE_3__.makeStyles)()(theme => ({
    root: {
        position: 'relative',
        marginBottom: theme.spacing(1),
        overflow: 'hidden',
        background: 'white',
    },
    scroller: {
        overflow: 'auto',
    },
    sliceRoot: {
        background: 'none',
        // background: theme.palette.background.paper,
        boxSizing: 'content-box',
        display: 'block',
    },
    iconButton: {
        padding: '4px',
        margin: '0 2px 0 2px',
    },
    controls: {
        overflow: 'hidden',
        whiteSpace: 'nowrap',
        position: 'absolute',
        background: _mui_material_colors__WEBPACK_IMPORTED_MODULE_7__["default"][200],
        boxSizing: 'border-box',
        borderRight: '1px solid #a2a2a2',
        borderBottom: '1px solid #a2a2a2',
        left: 0,
        top: 0,
    },
    importFormContainer: {
        marginBottom: theme.spacing(4),
    },
}));
const Slices = (0,mobx_react__WEBPACK_IMPORTED_MODULE_8__.observer)(({ model }) => {
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        model.staticSlices.map(slice => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Ruler__WEBPACK_IMPORTED_MODULE_5__["default"], { key: (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.assembleLocString)(slice.region.elided ? slice.region.regions[0] : slice.region), model: model, slice: slice }))),
        model.tracks.map(track => {
            const display = track.displays[0];
            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(display.RenderingComponent, { key: display.id, display: display, view: model }));
        })));
});
const Controls = (0,mobx_react__WEBPACK_IMPORTED_MODULE_8__.observer)(({ model, showingFigure }) => {
    const { classes } = useStyles();
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.controls },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_9__["default"], { onClick: model.zoomOutButton, className: classes.iconButton, title: model.lockedFitToWindow ? 'unlock to zoom out' : 'zoom out', disabled: !showingFigure || model.atMaxBpPerPx || model.lockedFitToWindow, color: "secondary" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_ZoomOut__WEBPACK_IMPORTED_MODULE_10__["default"], null)),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_9__["default"], { onClick: model.zoomInButton, className: classes.iconButton, title: "zoom in", disabled: !showingFigure || model.atMinBpPerPx, color: "secondary" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_ZoomIn__WEBPACK_IMPORTED_MODULE_11__["default"], null)),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_9__["default"], { onClick: model.rotateCounterClockwiseButton, className: classes.iconButton, title: "rotate counter-clockwise", disabled: !showingFigure, color: "secondary" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_RotateLeft__WEBPACK_IMPORTED_MODULE_12__["default"], null)),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_9__["default"], { onClick: model.rotateClockwiseButton, className: classes.iconButton, title: "rotate clockwise", disabled: !showingFigure, color: "secondary" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_RotateRight__WEBPACK_IMPORTED_MODULE_13__["default"], null)),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_9__["default"], { onClick: model.toggleFitToWindowLock, className: classes.iconButton, title: model.lockedFitToWindow
                ? 'locked model to window size'
                : 'unlocked model to zoom further', disabled: model.tooSmallToLock, color: "secondary" }, model.lockedFitToWindow ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Lock__WEBPACK_IMPORTED_MODULE_14__["default"], null) : react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_LockOpen__WEBPACK_IMPORTED_MODULE_15__["default"], null)),
        model.hideTrackSelectorButton ? null : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_9__["default"], { onClick: model.activateTrackSelector, title: "Open track selector", "data-testid": "circular_track_select", color: "secondary" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jbrowse_core_ui_Icons__WEBPACK_IMPORTED_MODULE_4__.TrackSelector, null)))));
});
const CircularView = (0,mobx_react__WEBPACK_IMPORTED_MODULE_8__.observer)(({ model }) => {
    const { classes } = useStyles();
    const initialized = !!model.displayedRegions.length && model.figureWidth && model.figureHeight;
    const showImportForm = !initialized && !model.disableImportForm;
    const showFigure = initialized && !showImportForm;
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.root, style: {
            width: model.width,
            height: model.height,
        }, "data-testid": model.id }, model.error ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1__.ErrorMessage, { error: model.error })) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        showImportForm ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ImportForm__WEBPACK_IMPORTED_MODULE_6__["default"], { model: model }) : null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
            !showFigure ? null : (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.scroller, style: {
                    width: model.width,
                    height: model.height,
                } },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.rotator, style: {
                        transform: [`rotate(${model.offsetRadians}rad)`].join(' '),
                        transition: 'transform 0.5s',
                        transformOrigin: model.centerXY
                            .map(x => `${x}px`)
                            .join(' '),
                    } },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", { style: {
                            position: 'absolute',
                            left: 0,
                            top: 0,
                        }, className: classes.sliceRoot, width: `${model.figureWidth}px`, height: `${model.figureHeight}px`, version: "1.1" },
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement("g", { transform: `translate(${model.centerXY})` },
                            react__WEBPACK_IMPORTED_MODULE_0__.createElement(Slices, { model: model })))))),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(Controls, { model: model, showingFigure: showFigure }),
            model.hideVerticalResizeHandle ? null : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1__.ResizeHandle, { onDrag: model.resizeHeight, style: {
                    height: dragHandleHeight,
                    position: 'absolute',
                    bottom: 0,
                    left: 0,
                    background: '#ccc',
                    boxSizing: 'border-box',
                    borderTop: '1px solid #fafafa',
                } })))))));
});
/* harmony default export */ __webpack_exports__["default"] = (CircularView);
//# sourceMappingURL=CircularView.js.map

/***/ }),

/***/ "./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/ImportForm.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/ImportForm.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Container/Container.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Grid/Grid.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Button/Button.js");
/* harmony import */ var tss_react_mui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tss-react/mui */ "./node_modules/tss-react/mui.js");
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobxreact.esm.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jbrowse/core/util */ "./node_modules/@jbrowse/core/util/index.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jbrowse/core/ui */ "./node_modules/@jbrowse/core/ui/index.js");
/* harmony import */ var _jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_3__);






const useStyles = (0,tss_react_mui__WEBPACK_IMPORTED_MODULE_1__.makeStyles)()(theme => ({
    importFormContainer: {
        marginBottom: theme.spacing(4),
    },
}));
// eslint-disable-next-line @typescript-eslint/no-explicit-any
const ImportForm = (0,mobx_react__WEBPACK_IMPORTED_MODULE_4__.observer)(({ model }) => {
    const { classes } = useStyles();
    const session = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.getSession)(model);
    const { error: modelError } = model;
    const { assemblyNames, assemblyManager } = session;
    const [selectedAsm, setSelectedAsm] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(assemblyNames[0]);
    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(modelError);
    const assembly = assemblyManager.get(selectedAsm);
    const assemblyError = assemblyNames.length
        ? assembly === null || assembly === void 0 ? void 0 : assembly.error
        : 'No configured assemblies';
    const regions = (assembly === null || assembly === void 0 ? void 0 : assembly.regions) || [];
    const err = assemblyError || error;
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], { className: classes.importFormContainer },
        err ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], { container: true, spacing: 1, justifyContent: "center", alignItems: "center" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], { item: true },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_3__.ErrorMessage, { error: err })))) : null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], { container: true, spacing: 1, justifyContent: "center", alignItems: "center" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], { item: true },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_3__.AssemblySelector, { onChange: val => {
                        setError(undefined);
                        setSelectedAsm(val);
                    }, session: session, selected: selectedAsm })),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], { item: true },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__["default"], { disabled: !(regions === null || regions === void 0 ? void 0 : regions.length), onClick: () => model.setDisplayedRegions(regions), variant: "contained", color: "primary" }, regions.length ? 'Open' : 'Loadingâ€¦')))));
});
/* harmony default export */ __webpack_exports__["default"] = (ImportForm);
//# sourceMappingURL=ImportForm.js.map

/***/ }),

/***/ "./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/Ruler.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/Ruler.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobxreact.esm.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jbrowse/core/util */ "./node_modules/@jbrowse/core/util/index.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jbrowse_core_util_color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jbrowse/core/util/color */ "./node_modules/@jbrowse/core/util/color/index.js");
/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material/styles */ "./node_modules/@mui/material/styles/useTheme.js");
/* harmony import */ var tss_react_mui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tss-react/mui */ "./node_modules/tss-react/mui.js");






const useStyles = (0,tss_react_mui__WEBPACK_IMPORTED_MODULE_3__.makeStyles)()({
    rulerLabel: {
        fontSize: '0.8rem',
        fontWeight: 500,
        lineHeight: 1.6,
        letterSpacing: '0.0075em',
    },
});
function sliceArcPath(slice, radiusPx, startBase, endBase) {
    // A rx ry x-axis-rotation large-arc-flag sweep-flag x y
    if (slice.flipped) {
        ;
        [startBase, endBase] = [endBase, startBase];
    }
    const startXY = slice.bpToXY(startBase, radiusPx);
    const endXY = slice.bpToXY(endBase, radiusPx);
    const largeArc = Math.abs(endBase - startBase) / slice.bpPerRadian > Math.PI ? '1' : '0';
    const sweepFlag = '1';
    return [
        'M',
        ...startXY,
        'A',
        radiusPx,
        radiusPx,
        '0',
        largeArc,
        sweepFlag,
        ...endXY,
    ].join(' ');
}
const ElisionRulerArc = (0,mobx_react__WEBPACK_IMPORTED_MODULE_4__.observer)(({ model, slice }) => {
    const theme = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_5__["default"])();
    const { radiusPx: modelRadiusPx } = model;
    const radiusPx = modelRadiusPx + 1;
    const { endRadians, startRadians, region } = slice;
    const startXY = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.polarToCartesian)(radiusPx, startRadians);
    const endXY = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.polarToCartesian)(radiusPx, endRadians);
    const widthPx = (endRadians - startRadians) * radiusPx;
    const largeArc = endRadians - startRadians > Math.PI ? '1' : '0';
    // TODO: draw the elision
    const centerRadians = (endRadians + startRadians) / 2;
    const regionCountString = `[${Number(region.regions.length).toLocaleString()}]`;
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(RulerLabel, { text: regionCountString, view: model, maxWidthPx: widthPx, radians: centerRadians, radiusPx: radiusPx, title: `${Number(region.regions.length).toLocaleString()} more regions`, color: theme.palette.text.primary }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { d: [
                'M',
                ...startXY,
                'A',
                radiusPx,
                radiusPx,
                '0',
                largeArc,
                '1',
                ...endXY,
            ].join(' '), stroke: theme.palette.text.secondary, strokeWidth: 2, strokeDasharray: "2,2", fill: "none" })));
});
const RulerLabel = (0,mobx_react__WEBPACK_IMPORTED_MODULE_4__.observer)(({ view, text, maxWidthPx, radians, radiusPx, title, color }) => {
    const { classes } = useStyles();
    const textXY = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.polarToCartesian)(radiusPx + 5, radians);
    if (!text) {
        return null;
    }
    if (text.length * 6.5 < maxWidthPx) {
        // text is rotated parallel to the ruler arc
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("text", { x: 0, y: 0, className: classes.rulerLabel, textAnchor: "middle", dominantBaseline: "baseline", transform: `translate(${textXY}) rotate(${(0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.radToDeg)(radians) + 90})`, style: { fill: color } },
            text,
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, title || text)));
    }
    if (maxWidthPx > 4) {
        // text is rotated perpendicular to the ruler arc
        const overallRotation = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.radToDeg)(radians + view.offsetRadians - Math.PI / 2);
        if (overallRotation >= 180) {
            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("text", { x: 0, y: 0, className: classes.rulerLabel, textAnchor: "start", dominantBaseline: "middle", transform: `translate(${textXY}) rotate(${(0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.radToDeg)(radians)})`, style: { fill: color } },
                text,
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, title || text)));
        }
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("text", { x: 0, y: 0, className: classes.rulerLabel, textAnchor: "end", dominantBaseline: "middle", transform: `translate(${textXY}) rotate(${(0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.radToDeg)(radians) + 180})`, style: { fill: color } },
            text,
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, title || text)));
    }
    // if you get here there is no room for the text at all
    return null;
});
const RegionRulerArc = (0,mobx_react__WEBPACK_IMPORTED_MODULE_4__.observer)(({ model, slice }) => {
    const theme = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_5__["default"])();
    const { radiusPx } = model;
    const { region, endRadians, startRadians } = slice;
    const centerRadians = (endRadians + startRadians) / 2;
    const widthPx = (endRadians - startRadians) * radiusPx;
    const session = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.getSession)(model);
    let color;
    const assembly = session.assemblyManager.get(slice.region.assemblyName);
    if (assembly) {
        color = assembly.getRefNameColor(region.refName);
    }
    if (color) {
        try {
            color = (0,_jbrowse_core_util_color__WEBPACK_IMPORTED_MODULE_2__.makeContrasting)(color, theme.palette.background.paper);
        }
        catch (error) {
            color = theme.palette.text.primary;
        }
    }
    else {
        color = theme.palette.text.primary;
    }
    // TODO: slice flipping
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(RulerLabel, { text: region.refName, view: model, maxWidthPx: widthPx, radians: centerRadians, radiusPx: radiusPx, color: color }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { d: sliceArcPath(slice, radiusPx + 1, region.start, region.end), stroke: color, strokeWidth: 2, fill: "none" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("title", null, region.refName))));
});
const CircularRuler = (0,mobx_react__WEBPACK_IMPORTED_MODULE_4__.observer)(function Ruler({ model, slice }) {
    if (slice.region.elided) {
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ElisionRulerArc, { key: (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.assembleLocString)(slice.region.regions[0]), model: model, slice: slice }));
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(RegionRulerArc, { key: (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.assembleLocString)(slice.region), model: model, slice: slice }));
});
/* harmony default export */ __webpack_exports__["default"] = (CircularRuler);
//# sourceMappingURL=Ruler.js.map

/***/ }),

/***/ "./node_modules/@mui/icons-material/Lock.js":
/*!**************************************************!*\
  !*** ./node_modules/@mui/icons-material/Lock.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {



var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@mui/icons-material/node_modules/@babel/runtime/helpers/interopRequireDefault.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@mui/icons-material/utils/createSvgIcon.js"));

var _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"
}), 'Lock');

exports["default"] = _default;

/***/ }),

/***/ "./node_modules/@mui/icons-material/LockOpen.js":
/*!******************************************************!*\
  !*** ./node_modules/@mui/icons-material/LockOpen.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {



var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@mui/icons-material/node_modules/@babel/runtime/helpers/interopRequireDefault.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@mui/icons-material/utils/createSvgIcon.js"));

var _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"
}), 'LockOpen');

exports["default"] = _default;

/***/ }),

/***/ "./node_modules/@mui/icons-material/RotateLeft.js":
/*!********************************************************!*\
  !*** ./node_modules/@mui/icons-material/RotateLeft.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {



var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@mui/icons-material/node_modules/@babel/runtime/helpers/interopRequireDefault.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@mui/icons-material/utils/createSvgIcon.js"));

var _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"
}), 'RotateLeft');

exports["default"] = _default;

/***/ }),

/***/ "./node_modules/@mui/icons-material/RotateRight.js":
/*!*********************************************************!*\
  !*** ./node_modules/@mui/icons-material/RotateRight.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {



var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@mui/icons-material/node_modules/@babel/runtime/helpers/interopRequireDefault.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@mui/icons-material/utils/createSvgIcon.js"));

var _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"
}), 'RotateRight');

exports["default"] = _default;

/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_jbrowse_plugin-circular-view_esm_CircularView_components_CircularView_js.bundle.js.map